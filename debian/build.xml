<?xml version="1.0" encoding="UTF-8"?>

<project name="regex-renamer-debian-package" default="default" basedir="..">
    <import file="../build.xml"/>

    <target name="-post-init" unless="user.properties.file">
        <property file="debian/build.properties"/>
    </target>

    <target name="-deb-init">
        <property file="debian/build.properties"/>
        <mkdir dir="${package.dir}"/>
    </target>

    <target name="-source-tarball" depends="-deb-init">
        <tar destfile="${package.dir}/${application.title}_1.0.orig.tar"
            basedir="renamer" excludes="nbproject/private/**"/>
        <gzip destfile="${package.dir}/${application.title}_1.0.orig.tar.gz"
            src="${package.dir}/${application.title}_1.0.orig.tar"/>
        <delete file="${package.dir}/${application.title}_1.0.orig.tar"/>
    </target>

    <target name="debian-source-package" depends="-source-tarball">
        <!--mkdir dir="${package.dir}/${application.title}-1.0"/-->
        <copy todir="${package.dir}/${application.title}-1.0">
            <fileset dir="renamer" excludes="nbproject/private/**"/>
        </copy>
        <copy todir="${package.dir}/${application.title}-1.0/debian">
            <fileset dir="debian"/>
        </copy>
        <chmod file="${package.dir}/${application.title}-1.0/debian/rules" perm="755"/>
    </target>

    <target name="deb-clean">
        <delete dir="debian-package"/>
    </target>
</project>